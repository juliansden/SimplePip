validator AppendLogEntry {
    process leader(*, 1) {
        notice("request_from_client")
        task("replicate_entry") {
            repeat 2 { send(follower) }
            any {
                recv(follower)
                send(follower)
            }
            recv(follower)
        }
        notice("send_back_to_client")
        any {
            recv(follower)
            send(follower)
        }
        maybe {
            recv(follower)
        }
    }

    process follower(*, 2) {
        any {
            recv(leader)
            send(leader)
        }
    }
}